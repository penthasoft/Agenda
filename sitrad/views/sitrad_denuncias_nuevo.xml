<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- CEM -->
    <record model="ir.ui.view" id="sitrad_cem_tree">
        <field name="name">Operadores de Justicia</field>
        <field name="model">sitrad.cem</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string='Centros de Emergencia de la Mujer' editable="bottom">
                <field name="name"/>
                <field name="sigla"/>
                <field name="latitude"/>
                <field name="longitude"/>
                <field name="is_cem"/>
                <field name="direccion"/>
                <field name="tel"/>
                <field name="direc"/>
            </tree>
        </field>
    </record>

    <record id="sitrad_cem_action_tree" model="ir.actions.act_window">
            <field name="name">Operadores de Justicia</field>
            <field name="res_model">sitrad.cem</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" eval="False"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Click para Crear Parentesco.
              </p>
            </field>
    </record>
    <menuitem action="sitrad_cem_action_tree" id="sitrad_cem_list" parent="sitrad_conf_parametros" sequence="5" groups="sitrad.group_sitrad_manager"/>

    <!-- salud -->
    <record model="ir.ui.view" id="sitrad_salud_tree">
        <field name="name">Centros de Salud</field>
        <field name="model">sitrad.salud</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string='Centros de salud' editable="bottom">
                <field name="name"/>
                <field name="sigla"/>
                <field name="latitude"/>
                <field name="longitude"/>
            </tree>
        </field>
    </record>

    <record id="sitrad_salud_action_tree" model="ir.actions.act_window">
            <field name="name">Centros de Salud</field>
            <field name="res_model">sitrad.salud</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" eval="False"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Click para Crear Centro de Salud.
              </p>
            </field>
    </record>
    <menuitem action="sitrad_salud_action_tree" id="sitrad_salud_list" parent="sitrad_conf_parametros" sequence="6" groups="sitrad.group_sitrad_manager"/>

    <!-- salud -->
    <record model="ir.ui.view" id="sitrad_medprotec_tree">
        <field name="name">Medidas de Proteccion</field>
        <field name="model">sitrad.medprotec</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string='Medidas de protección' editable="bottom">
                <field name="name"/>
            </tree>
        </field>
    </record>

    <record id="sitrad_medprotec_action_tree" model="ir.actions.act_window">
            <field name="name">Medidas de Proteccion</field>
            <field name="res_model">sitrad.medprotec</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" eval="False"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Click para Crear Medidas de Proteccion.
              </p>
            </field>
    </record>
    <menuitem action="sitrad_medprotec_action_tree" id="sitrad_medprotec_list" parent="sitrad_conf_parametros" sequence="7" groups="sitrad.group_sitrad_manager"/>

    <!-- Tipo de Documento -->
    <record model="ir.ui.view" id="sitrad_tipo_doc_tree">
        <field name="name">Tipo de Documento</field>
        <field name="model">sitrad.tipo_doc</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string='Tipo de Documento' editable="bottom">
                <field name="name"/>
            </tree>
        </field>
    </record>

    <record id="sitrad_tipo_doc_action_tree" model="ir.actions.act_window">
            <field name="name">Tipo de Documento</field>
            <field name="res_model">sitrad.tipo_doc</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" eval="False"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Click para Crear Tipo de Documento.
              </p>
            </field>
    </record>
    <menuitem action="sitrad_tipo_doc_action_tree" id="sitrad_tipo_doc_list" parent="sitrad_conf_parametros" sequence="8" groups="sitrad.group_sitrad_manager"/>

    <!-- Tipo de Instnacias -->
    <record model="ir.ui.view" id="sitrad_instancias_tree">
        <field name="name">Instancias</field>
        <field name="model">sitrad.instancias</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string='Instancias' editable="bottom">
                <field name="name"/>
                <field name="sigla"/>
                <field name="region"/>
                <field name="provincia"/>
                <field name="tipo_inst"/>
                <field name="resolucion"/>
                <field name="doc_resolucion"/>
                <field name="presidente"/>
                <field name="sec_tecnica"/>
                <field name="year_trab"/>
                <field name="plan_trab"/>
            </tree>
        </field>
    </record>

    <record id="sitrad_instancias_action_tree" model="ir.actions.act_window">
            <field name="name">Instancias</field>
            <field name="res_model">sitrad.instancias</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" eval="False"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Click para Crear Tipo de Instancias.
              </p>
            </field>
    </record>
    <menuitem action="sitrad_instancias_action_tree" id="sitrad_instancias_list" parent="sitrad_conf_parametros" sequence="9" groups="sitrad.group_sitrad_manager"/>

<!-- DENUNCIAS -->
    <record model="ir.ui.view" id="sitrad_denuncias_view">
            <field name="name">Denuncias</field>
            <field name="model">sitrad.denuncias</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Denuncias">
                    <sheet>
                        <notebook>
                            <page string="Datos de la Denuncia">
                                <group>
                                    <field name="forma" string ="Tipo de Violencia" widget="many2many_tags"/>
                                    <field name="sub_frm" string ="Modalidad"/>
                                    <field name="grado"/>
                                    <field name="victima" context="{'default_denuncia_id': id}">
                                        <form string="Victimas">
                                            <group>
                                                <field name="name"/>
                                            </group>
                                        </form>
                                        <tree string="Victimas" editable="bottom">
                                            <field name="name" invisible="1"/>
                                            <field name="victima"/>
                                            <field name="denuncia_id" invisible="1"/>
                                        </tree>
                                    </field>

                                    <field name="agresor" context="{'default_denuncia_id': id}">
                                        <form string="Agresores">
                                            <group>
                                                <field name="name"/>
                                                <field name="agresor"/>
                                                <field name="parentesco"/>
                                                <field name="denuncia_id"/>
                                            </group>
                                        </form>
                                        <tree string="Agresores" editable="bottom">
                                            <field name="name" invisible="1"/>
                                            <field name="agresor"/>
                                            <field name="parentesco"/>
                                            <field name="denuncia_id" invisible="1"/>
                                        </tree>
                                    </field>
                                </group>
                                <group>
                                    <field name="zona"/>
                                    <field name="comisarias"/>
                                 </group>
                            </page>

                            <page string="PJ - Familia">
                                <group>
                                    <field name="pjf_juzgado"/>
                                    <field name="pjf_exp"/>
                                    <field name="nro_den" invisible="1"/>
                                    <!-- <field name="pjf_med_prot_tipo" string ="Medidas de Protección" widget="many2many_tags"/> -->
                                    <field name="pjf_med_prot"/>
                                    <button name="download_file" string="PDF" type="object" class="oe_highlight" icon="fa-print"/>
                                    <field name="url_medida"/>
                                    <field name="pjf_btn_pnc"/>
                                    <field name="pjf_acm"/>
                                    <field name="pjf_acm_exp"/>
                                    <field name="pjf_med_prot_apela"/>
                                </group>
                            </page>
                            
                            <page string="Ministerio Publico">
                                <group>
                                    <field name="mp_carpeta"/>
                                    <field name="mp_cem"/>
                                    <field name="mp_estado"/>
                                </group>
                            </page>
                            
                            <page string="PJ - Penal">
                                <group>
                                    <field name="pjp_juzgados"/>
                                    <field name="pjp_exp"/>
                                    <field name="pjp_cem"/>
                                    <field name="pjp_estado"/>
                                </group>
                            </page>
                            
                            <page string="CEM - AURORA / SALUD / DPUEBLO">
                                <group string="CEM">
                                    <field name="cem_name"/>
                                    <field name="cem_legal"/>
                                    <field name="cem_psicologica"/>
                                    <field name="cem_tsocial"/>
                                </group>

                                <group string="Centro de Salud">
                                    <field name="sld_centro"/>
                                    <field name="sld_rqr"/>
                                    <field name="sld_agrecs"/>
                                    <field name="sld_fec_recmp"/>
                                    <field name="sld_fec_recinf"/>
                                    <field name="sld_contador"/>
                                </group>

                                <group string="Defensoria del Pueblo">
                                    <field name="defp_rqr"/>
                                    <field name="defp_fec"/>
                                    <field name="defp_opej"/>
                                    <field name="defp_mtv"/>
                                    <field name="defp_acta"/>
                                </group>

                            </page>
                            <page string="Control de tiempos">
                                <group>
                                    <group string="VCT => PNP/PJ/MP">
                                        <field name="ctrlv_fec_den"/>
                                        <field name="ctrlv_fec_rempj"/>
                                        <field name="crtlv_contador"/>
                                    </group>
                                    <group string="PNP/PJ/MP - PJ">
                                        <field name="ctrlpj_fec_den"/>
                                        <field name="ctrlpj_fec_rempj"/>
                                        <field name="crtlpj_contador"/>
                                    </group>
                                    <group string="PJ - MP">
                                        <field name="ctrlmp_fec_den"/>
                                        <field name="ctrlmp_fec_rempj"/>
                                        <field name="crtlmp_contador"/>
                                    </group>
                                    <group string="PJ - PJP">
                                        <field name="ctrlpjp_fec_den"/>
                                        <field name="ctrlpjp_fec_rempj"/>
                                        <field name="crtlpjp_contador"/>
                                    </group>
                                    <group>
                                        <field name="name"/>
                                        <field name="date"/>
                                        <field name="registra"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
<!--                     <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div> -->
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="sitrad_denuncias_tree">
            <field name="name">Lista de Denuncias</field>
            <field name="model">sitrad.denuncias</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string='Información de la Denuncia'>
                    <field name="provincia"/>
                    <field name="comisarias"/>
                    <field name="ctrlv_fec_den"/>
                    <field name="ctrlv_fec_rempj"/>
                    <field name="crtlv_contador"/>
                    <field name="pjf_juzgado"/>
                    <field name="pjf_exp"/>
                    <field name="ctrlpj_fec_den"/>
                    <field name="ctrlpj_fec_rempj"/>
                    <field name="crtlpj_contador"/>
                    <field name="forma" string ="Tipo de Violencia" widget="many2many_tags"/>
                    <field name="ctrlmp_fec_den"/>
                    <field name="ctrlmp_fec_rempj"/>
                    <field name="crtlmp_contador"/>
                    <button name="download_file" string="PDF" type="object" icon="fa-print"/>
                    <field name="pjf_btn_pnc"/>
                    <field name="pjf_acm"/>
                </tree>
            </field>
        </record>

        <record id="sitrad_denuncias_graph" model="ir.ui.view">
            <field name="name">sitrad.denuncias.graph</field>
            <field name="model">sitrad.denuncias</field>
            <field name="arch" type="xml">
                <graph string="Denuncias por Comisaría" type="bar">
                    <field name="comisarias"/>
                    <field name="id" type="count"/>
                    <field name="id" options='{"show_values": true}'/>
                </graph>
            </field>
        </record>


<!--         <record id="sitrad_denuncias_pivot" model="ir.ui.view">
            <field name="name">sitrad.denuncias.pivot</field>
            <field name="model">sitrad.denuncias</field>
            <field name="arch" type="xml">
                <pivot string="Pivote de Denuncias" date="ctrlv_fec_den">
                    <field name="ctrlv_fec_den" type="row" interval="month" string="Fecha de Denuncia"/>
                    <field name="id" type="measure" string="Total de Denuncias" summarize="count"/>
                </pivot>
            </field>
        </record> -->

        <record id="view_sitrad_denuncias_filter" model="ir.ui.view">
            <field name="name">Búsqueda de Denuncias</field>
            <field name="model">sitrad.denuncias</field>
            <field name="priority" eval="8" />
            <field name="arch" type="xml">
                <search string="Denuncias">
                    <field name="pjf_exp"/>
                    <field name="provincia"/>
                    <field name="comisarias"/>
                    <field name="pjf_juzgado"/>
                    <filter string="Provincia" name="provincia"/>
                    <filter string="Fecha Denuncia" name="ctrlv_fec_den" date="ctrlv_fec_den"/>
                    <filter string="Fecha Medida" name="ctrlpj_fec_rempj" date="ctrlpj_fec_rempj"/>
                    <filter string="CEM-Legal" name="cem_legal" domain="[('cem_legal', '=', True)]"/>
                    <filter string="CEM-Psic." name="cem_psicologica" domain="[('cem_psicologica', '=', True)]"/>
                    <filter string="CEM-Social" name="cem_tsocial" domain="[('cem_tsocial', '=', True)]"/>
                    <filter string="Botón de Pánico" name="pjf_btn_pnc" domain="[('pjf_btn_pnc', '=', True)]"/>
                    <newline />

                    <group expand="0" string="Group By...">
                        <filter string="Provincia" name="group_provincia" domain="[]" context="{'group_by':'provincia'}" />

                        <filter string="Juzgados" name="group_pjf_juzgado" domain="[]" context="{'group_by':'pjf_juzgado'}" />

                        <filter string="Tipo Violencia" name="group_forma" context="{'group_by':'forma_names'}">
                        </filter>

                        <filter string="Fecha Denuncia" name="group_ctrlv_fec_den" domain="[]" context="{'group_by':'ctrlv_fec_den'}" />

                        <filter string="Fecha Medida" name="group_ctrlpj_fec_rempj" domain="[]" context="{'group_by':'ctrlpj_fec_rempj'}" />

                        <filter string="Operadores de Justicia" name="group_comisarias" domain="[]" context="{'group_by':'comisarias'}" />

                        <filter string="CEM-Legal" name="group_cem_legal" domain="[('cem_legal', '=', True)]" context="{'group_by':'cem_legal'}" />

                        <filter string="CEM-Psic." name="group_cem_psicologica" domain="[('cem_psicologica', '=', True)]" context="{'group_by':'cem_psicologica'}" />

                        <filter string="CEM-Social" name="group_cem_tsocial" domain="[('cem_tsocial', '=', True)]" context="{'group_by':'cem_tsocial'}" />

                        <filter string="Botón de Pánico" name="group_pjf_btn_pnc" domain="[]" context="{'group_by':'pjf_btn_pnc'}" />

                        <filter string="Acumulado" name="group_pjf_acm" domain="[('pjf_acm', '=', True)]" context="{'group_by':'pjf_acm'}">
                        </filter>

                    </group>
                </search>
            </field>
        </record>

        <record id="sitrad_denuncias_action_tree" model="ir.actions.act_window">
                <field name="name">Denuncias</field>
                <field name="res_model">sitrad.denuncias</field>
                <field name="view_mode">tree,form,graph,pivot</field>
                <field name="domain">[]</field>
                <field name="context">{}</field>
                <field name="view_id" eval="False"/>
                <field name="help" type="html">
                  <p class="o_view_nocontent_smiling_face">
                    Haga clic para agregar una nueva Denuncia.
                  </p><p>
                   Agregue todos los Denuncias y administre sus horarios semanales
                  </p>
                </field>
        </record>

        <menuitem action="sitrad_denuncias_action_tree" id="sitrad_denuncias_list" parent="sitrad_menu_root" sequence="2"/>

        <!-- Tipo de Instnacias -->
        <record model="ir.ui.view" id="sitrad_irc_tree">
            <field name="name">Instancias Regionales y Distritales</field>
            <field name="model">sitrad.irc</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string='Instancias' editable="bottom">
                    <field name="name"/>
                    <field name="sigla"/>
                    <field name="tipo_inst"/>
                    <field name="distrito"/>
                    <field name="provincia"/>
                    <field name="region"/>
                    <field name="presidente"/>
                    <field name="sec_tecnica"/>
                    <field name="resolucion"/>
                    <field name="doc_resolucion"/>
                    <field name="resolucionf"/>
                    <field name="doc_resolucionf"/>
                </tree>
            </field>
        </record>

        <record id="sitrad_irc_action_tree" model="ir.actions.act_window">
                <field name="name">IRC - Instancias</field>
                <field name="res_model">sitrad.irc</field>
                <field name="view_mode">tree,form</field>
                <field name="view_id" eval="False"/>
                <field name="help" type="html">
                  <p class="o_view_nocontent_smiling_face">
                    Click para Crear Tipo de Instancias.
                  </p>
                </field>
        </record>
        <menuitem action="sitrad_irc_action_tree" id="sitrad_irc_list" parent="sitrad_menu_irc" sequence="1" groups="sitrad.group_sitrad_manager"/>

        <record model="ir.ui.view" id="sitrad_ircplan_tree">
            <field name="name">IRC - Plan</field>
            <field name="model">sitrad.ircplan</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string='Plan' editable="bottom">
                    <field name="name"/>
                    <field name="year_trab"/>
                    <field name="plan_trab"/>
                </tree>
            </field>
        </record>

        <record id="sitrad_ircplan_action_tree" model="ir.actions.act_window">
                <field name="name">IRC - Plan</field>
                <field name="res_model">sitrad.ircplan</field>
                <field name="view_mode">tree,form</field>
                <field name="view_id" eval="False"/>
                <field name="help" type="html">
                  <p class="o_view_nocontent_smiling_face">
                    Click para Crear Tipo de Instancias.
                  </p>
                </field>
        </record>
        <menuitem action="sitrad_ircplan_action_tree" id="sitrad_ircplan_list" parent="sitrad_menu_irc" sequence="2" groups="sitrad.group_sitrad_manager"/>


        <record model="ir.ui.view" id="sitrad_ircact_tree">
            <field name="name">IRC - Actividades</field>
            <field name="model">sitrad.ircact</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string='IRC - Actividades' editable="bottom">
                    <field name="ircplan"/>
                    <field name="name"/>
                    <field name="fecha"/>
                    <field name="acta"/>
                    <field name="ref"/>
                </tree>
            </field>
        </record>

        <record id="sitrad_ircact_action_tree" model="ir.actions.act_window">
                <field name="name">IRC - Actividades</field>
                <field name="res_model">sitrad.ircact</field>
                <field name="view_mode">tree,form</field>
                <field name="view_id" eval="False"/>
                <field name="help" type="html">
                  <p class="o_view_nocontent_smiling_face">
                    Click para Crear Tipo de Instancias.
                  </p>
                </field>
        </record>
        <menuitem action="sitrad_ircact_action_tree" id="sitrad_ircact_list" parent="sitrad_menu_irc" sequence="3" groups="sitrad.group_sitrad_manager"/>

</odoo>
